<!doctype html>
<html lang="en">
<head>
<title>Title</title>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script
src="https://code.jquery.com/jquery-3.6.0.js"
integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
crossorigin="anonymous"></script>
<!-- Bootstrap CSS v5.0.2 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="/css/buyersignup.css">
</head>
<body onload="initial()">
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<nav class="navbar navbar-expand-md mb-3" style="background: rgb(21, 175, 47);">
<div class="container">
<div>
<a href="/html/homefinal.html" class="navbar-brand mr-3"><img src="/static/logo.png" width="50%"></a>
</div>
<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse " id="navbarCollapse">
<div class="navbar-nav col-sm-10">
<a href="#" class="nav-item nav-link"></a>
<a href="#" class="nav-item nav-link"></a>
<a href="#" class="nav-item nav-link"></a>
<a href="#" class="nav-item nav-link"></a>
</div>
<div class="navbar-nav ml-auto col-sm-2">

 <a href="#" class="nav-item nav-link " onclick="location.href='/html/buyerlogin.html';" style="color: white;">Log in</a>

 </div>
</div>
</div>
</nav>
<div class="container rounded bg-white mt-5 mb-5">
<div class="row">
<div class="col-md-3 border-right">
<div class="d-flex flex-column align-items-center text-center p-3 py-5"></div>
</div>
<div class="col-md-5 border-right">
<div class="p-3 py-5">
<div class="d-flex justify-content-between align-items-center mb-3">
<h4 class="text-right">Sign Up</h4>
</div>
<div class="row mt-2">
<div class="col-md-6"><label class="labels">First Name</label><input type="text" class="form-control" placeholder="first name" id="firstname"></div>
<div class="col-md-6"><label class="labels">Last Name</label><input type="text" class="form-control" placeholder="surname" id="lastname"></div>
</div>
<div class="row mt-3">
<div class="col-md-12"><label class="labels">Mobile Number</label><input type="text" class="form-control" placeholder="enter phone number" id="phonenumber"></div>
<div class="col-md-12"><label class="labels">Address Line 1</label><input type="text" class="form-control" placeholder="enter address line 1" value="" id="address"></div>
<!-- <div class="col-md-12"><label class="labels">Address Line 2</label><input type="text" class="form-control" placeholder="enter address line 2" value=""></div> -->
<div class="col-md-12"><label class="labels">Pincode</label><input type="text" class="form-control" placeholder="enter Pincode" id="pin"></div>
<!-- <div class="col-md-12"><label class="labels">Area</label><input type="text" class="form-control" placeholder="enter Area " value=""></div> -->
<!-- <div class="col-md-12"><label class="labels">State</label><input type="text" class="form-control" placeholder="enter State" value=""></div> -->
<div class="col-md-12"><label class="labels">Email ID</label><input type="email" class="form-control" placeholder="enter email id" id="mailid"></div>
<div class="col-md-12"><label class="labels">Password</label><input type="password" class="form-control" placeholder="password" id="password"></div>
<div class="col-md-12"><label class="labels">Confirm Password</label><input type="text" class="form-control" placeholder="password" id="confirmpassword"></div>
</div>
<div class="row mt-3">
<div class="col-md-6"><label class="labels">Country</label><input type="text" class="form-control" placeholder="country" value="India"></div>
<div class="col-md-6"><label class="labels">State/Region</label><input type="text" class="form-control" value="" placeholder="state" id="state"></div>
</div>
<div class="mt-5 text-center"><button class="btn btn-primary profile-button" type="button" onclick="updatesellerDetails()">Create Account</button></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Bootstrap JavaScript Libraries -->

 <script>
function putData(url = '', data = {}) {
console.log('We are here');
debugger;
// Default options are marked with *
return fetch(url, {
method: 'PUT', // *GET, POST, PUT, DELETE, etc.
mode: 'cors', // no-cors, cors, *same-origin
cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
credentials: 'same-origin', // include, *same-origin, omit
headers: {
'Content-Type': 'application/json',
// 'Content-Type': 'application/x-www-form-urlencoded',
},
redirect: 'follow', // manual, *follow, error
referrer: 'no-referrer', // no-referrer, *client
body: JSON.stringify(data), // body data type must match "Content-Type" header
})
.then(response => response.json()); // parses JSON response into native Javascript objects
}

 function initial(){
var id=localStorage.getItem('id');
var firstname=localStorage.getItem('firstname');
var lastname=localStorage.getItem('lastname');
var mailid=localStorage.getItem('mailid');
var phonenumber=localStorage.getItem('phonenumber');
var pin=localStorage.getItem('pin');
var password=localStorage.getItem('password');
document.getElementById('firstname').defaultValue =firstname;
document.getElementById('lastname').defaultValue =lastname;
document.getElementById('mailid').defaultValue =mailid;
document.getElementById('phonenumber').defaultValue =phonenumber;
document.getElementById('pin').defaultValue = pin;
document.getElementById('password').defaultValue = password;
document.getElementById('mailidps').innerHTML=mailid;


 }

 function logoutaction(){
window.location="/html/home.html";

 localStorage.removeItem('id');
localStorage.removeItem('firstname');
localStorage.removeItem('lastname');
localStorage.removeItem('mailid');
localStorage.removeItem('phonenumber');
localStorage.removeItem('pin');
localStorage.removeItem('password');
}

function updatesellerDetails() {
console.log('Hi');
alert("update");
debugger;
const firstname = document.getElementById('firstname').value;
const lastname = document.getElementById('lastname').value;
const phonenumber = document.getElementById('phonenumber').value;
const address = document.getElementById('address').value;
const pin = document.getElementById('pin').value;
const mailid = document.getElementById('mailid').value;
const confirmpassword = document.getElementById('confirmpassword').value;
const password = document.getElementById('password').value;

 const state = document.getElementById('state').value;

 if(mailid==""){
alert("Please update");
}
else{

 var id =localStorage.getItem('id');

const Data = {
url: 'http://localhost:3005/sellerRegi/'+id,
data: {
'_id':id,
'firstname': name,
'lastname':lastname,
'email': mailid,
'phonenumber': phonenumber,
'pincode':pin,
'password': password,
"address":address,
"state":state
}
};


putData(Data.url, Data.data)
.then(data => console.log(JSON.stringify(data)))
.then(data =>{
alert("Account Created Sucessfully");
window.location="/html/productview.html";
})
.catch(error => console.log(error));
}

}

</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>