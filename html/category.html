<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
      <link rel="stylesheet" href="/css/category.css">
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
      </script>
    </head>
  <body>
    <nav class="navbar navbar-light bg-light" style="background-color: green;">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img src="/static/logo.png" alt="" width="30" height="24" class="d-inline-block align-text-top">
            <h1 style = "color: rgb(17, 16, 15);"> Product Details</h1>
          </a>
        </div>
      </nav>
    <form>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Product Category</label>
          <select id="bonus" class="form-control">
            <option value="VE">Vegetables</option>
            <option value="FR">Fruits</option>
            <option value="PL">Plants</option>
            <option value="DP">Dairy Products</option>
            <option value="SP">Spices</option>
            <option value="NU">Nuts</option>
            </select>
         
          <div id="emailHelp" class="form-text">The product is visible to all users.</div>
        </div>
        <div class="mb-3">
          <label for="productId" class="form-label" id="">Product ID</label>
          <input type="productId" class="form-control" id="productId">
        </div>
        <div class="mb-3 " id="VE">
            <label for="Foodtypess" class="form-label">Product Name </label>
            <select id="foodtypes" class="form-control VE">
              <option value="40">Beans</option>
              <option value="30">Pitter Guard</option>
              <option value="40">Onion</option>
              <option value="30">Tomatoes</option>
              <option value="30">Potatoes</option>
              <option value="45">Brinjal</option>
              <option value="30">Radish</option>
              <option value="50">Beetroots</option> 
              <option value="25">LadyFinger</option>
              <option value="50">Snakeguard</option>
              <option value="20">Cabbage</option> 
              <option value="20">Cauliflower</option>
             

              </select>
          </div>

          <div class="mb-3 " id="FR">
            <label for="Foodtypess" class="form-label">Product Name </label>
            <select id="foodtypes" class="form-control FR">
              <option value="500">StrawBerry</option>
              <option value="40">Watermelan</option>
              <option value="200">Pomegranse</option>
              <option value="30">Banana</option>
              <option value="250">Apples</option>
              <option value="50">Guava</option>
              <option value="45">Grapes</option>
              <option value="150">Jack fruit</option>
              <option value="120">Mango</option>
              <option value="40">Papaya</option>
              <option value="150">Orange</option>
              <option value="500">Dragon Fruit</option>
              </select>
          </div>
          <div class="mb-3 " id="PL">
            <label for="Foodtypes" class="form-label">Product Name </label>
            <select id="foodtypes" class="form-control PL">
            <option value="200">Broccoli</option>
            <option value="30">Mint Leaves</option>
            <option value="30">Curry leaves </option>
            <option value="40">Purslane leaves</option>
            <option value="40">Tulsi leaves</option>
            <option value="50">raddish leaves</option>
            <option value="60">Fenugreek leaves  </option>

            <option value="120">Kale </option>
            <option value="200">Lettuce  </option>
            <option value="30">Amaranthus  </option>
            <option value="35">Spinach  </option>
            <option value="30">Coriander  </option>
              </select>
          </div>
          <div class="mb-3 " id="NU">
            <label for="Foodtypes" class="form-label">Product Name </label>
            <select id="foodtypes" class="form-control NU">
            <option value="1200">Almonds</option>
            <option value="1500">Cashewnuts  </option>
            <option value="1600">Walnuts  </option>
            <option value="220">Groundnuts  </option>
            <option value="1600">Apricot  </option>
            <option value="400">Raisins  </option>
            <option value="400">Dates  </option>
            <option value="600">Dried dates  </option>
            <option value="1200"> Pista </option>
            <option value="20000">Saffron  </option>
            <option value="200"> Watermelon seeds </option>
            <option value="200">Dried figs  </option>
           
             
              </select>
          </div>
          <div class="mb-3 " id="DP">
            <label for="Foodtypes" class="form-label">Product Name </label>
            <select id="foodtypes" class="form-control DP">
            <option value="120"> Soyamilk</option>
            <option value="150">Butter  </option>
            <option value="160">Cheese </option>
            <option value="80">Milk</option>
            <option value="160"> Curd </option>
            <option value="500">Ghee  </option>
            <option value="400">Paneer  </option>
            <option value="300">Tofu </option>
            <option value="200"> Chocolates </option>
            <option value="200"> Milk chocolates</option>
            <option value="200"> Milkmaid </option>
            <option value="200">Milkybar </option>
           
             
              </select>
          </div>

          
          

          <div class="mb-3">
            
            <form action="/action_page.php">
              <div class="form-group">
                <label for="comment">Description:</label>
                <textarea class="form-control" rows="2" id="description" name="text"></textarea>
              </div>
              </form>
              </div>
              <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label">Product image  url</label>
            <input type="text" class="form-control" id="imageurl">
          </div>
          <div class="mb-3">

            <div class="file-field">
              <a class="btn-floating peach-gradient mt-0 float-left">
                <i class="fas fa-paperclip" aria-hidden="true"></i>
                <input type="file">
              </a>
              <div class="file-path-wrapper">
                <!-- <input class="file-path validate" type="text" placeholder="Upload Product image"> -->
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label for="productprice" class="form-label">Product Price per kg</label>
            <input type="text" class="form-control" id="productprice">
          </div>

          <div class="mb-3">
            <label for="Quantity" class="form-label">Quantity of the Project</label>
            <select id="foodqantity" class="form-control">
              <option value="10">10kg</option>
              <option value="20">20Kg</option>
              <option value="30">30Kg</option>
              <option value="40">40Kg</option>
              <option value="50">50Kg</option>
              <option value="80">80Kg</option>
              <option value="200">200Kg</option>
             
             
               
                </select>
          </div>

        <div class="mb-3 form-check">
          <!-- <input type="checkbox" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label" for="exampleCheck1">Check me out</label> -->
        </div>
        <div class="mb-3">
        <button type="submit" class="btn btn-primary" onclick="submitdata()">Submit</button>
        </div>
      </form>
   


      
    <script>

////////////

function postData(url = '', data = {}) {
        console.log('We are here');
        // Default options are marked with *
        return fetch(url, {
            method: 'POST', // *GET, POST, PUT, DELETE, etc.
            mode: 'cors', // no-cors, cors, *same-origin
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', // include, *same-origin, omit
            headers: {
                'Content-Type': 'application/json',
                // 'Content-Type': 'application/x-www-form-urlencoded',
            },
            redirect: 'follow', // manual, *follow, error
            referrer: 'no-referrer', // no-referrer, *client
            body: JSON.stringify(data), // body data type must match "Content-Type" header
        })
            .then(response => response.json()); // parses JSON response into native Javascript objects
    }

      function submitdata(){
     
        debugger;
     
        var  food= $("#bonus option:selected").text();

        var catageory="Food";
        var data=  localStorage.getItem('Food');
       data++;
       localStorage.setItem('Food',data);
       console.log('Hi');
        debugger;
          const  productcategory= $("#bonus option:selected").text();
          const foodqantity=$("#foodqantity option:selected").val();
   
          const ProductId = document.getElementById('productId').value;
          const description = document.getElementById('description').value;
          const productprice=document.getElementById('productprice').value;
           const imageurl=document.getElementById('imageurl').value;

       const Data = {
            url: 'http://localhost:3005/addproduct',
            data: {
                'sellerId': localStorage.getItem('id'),
                'productcategory':productcategory,
                'productid': ProductId,
                'productname': localStorage.getItem('productname'),
                'description':description,
                'productimageurl': imageurl,
                'productprice': productprice,
                'quantity':foodqantity
            }
        };


        postData(Data.url, Data.data)
       .then(data => console.log(JSON.stringify(data)))
       .then(data =>{
        alert("Successfully Product Added in the Db");
        window.location="/html/product.html";
       })
         .catch(error => console.log(error));
        


       //////////////////
     
      }
     

    </script>
    <script>
      $(document).ready(function(){
       
         $("#VE").hide();
          $("#FR").hide();
          $("#PL").hide();
          $("#DP").hide();
          $("#SP").hide();
          $("#NU").hide();
       
          $('#bonus').change(function() {


              $("#VE").hide();
              $("#FR").hide();
              $("#PL").hide();
              $("#DP").hide();
              $("#SP").hide();
              $("#NU").hide();
       
              var types=$("#bonus option:selected").val();
              var data="FO"+types+"00"+localStorage.getItem('Food');
         $("#productId").val(data);
            
            if(types =="VE"){
              $("#VE").show();
            
            }else if(types =="FR"){
              $("#FR").show();
              
            }
            else if(types =="PL"){
              $("#PL").show();
             
            }
            else if(types =="DP"){
              $("#DP").show();
              
            }
            else if(types =="SP"){
              $("#SP").show();
              
            }
            else if(types =="NU"){
              $("#NU").show();
              
            }

           });  
        
      });

      $(document).ready(function(){
        debugger;
        var data =$("#bonus option:selected").val();

           

       $('.FR').change(function() {

         var types=$(".FR option:selected").val();
          $('#productprice').val(types)
          }); 

          $('.VE').change(function() {

var types=$(".VE option:selected").val();
 $('#productprice').val(types)
 
 localStorage.setItem('productname',$(".VE option:selected").text())
 });


 $('.PL').change(function() {

var types=$(".PL option:selected").val();
 $('#productprice').val(types)

 localStorage.setItem('productname',$(".PL option:selected").text())
 
 });


 $('.DP').change(function() {

var types=$(".DP option:selected").val();
 $('#productprice').val(types)
 localStorage.setItem('productname',$(".DP option:selected").text())
 });
 $('.NU').change(function() {

var types=$(".NU option:selected").val();
localStorage.setItem('productname',$(".NU option:selected").text())
 $('#productprice').val(types)
 });
 $('.SP').change(function() {

var types=$(".SP option:selected").val();
localStorage.setItem('productname',$(".SP option:selected").text())
 $('#productprice').val(types)
 });
     });
     
      </script>
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  </body>
</html>